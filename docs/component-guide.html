<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Van Cone | Component Guide</title>
    <link rel="stylesheet" href="./style.css" />
</head>
<body>
    <img id="van-logo-right-side" src="./img/logo-615x892.png" alt="Van Cone Logo" />   
    <div id="sidebar">
        <a href="./"><h1>Van Cone</h1></a>
        <a id="van-logo-sidebar" href="./">
            <img id="van-logo-sidebar-img" src="./img/logo-308x446.png" alt="Van Cone Logo" />
        </a>
        <p id="version">version 0.0.6</p>
        <hr />
        <ul>
            <li><a href="./getting-started.html">Getting Started</a></li>
            <li><a href="./routing-and-nav-guide.html">Routing and Nav Guide</a></li>
            <li><a href="./component-guide.html">Component Guide</a></li>
            <li><a href="./api-reference.html">API Reference</a></li>
            <li><a href="https://github.com/medium-tech/van-cone/tree/main/examples" target="_blank">Examples</a></li>
            <li><a href="https://github.com/b-rad-c/van-cone" target="_blank">Source code</a></li>
            <li><a href="https://www.npmjs.com/package/van-cone" target="_blank">npm package</a></li>
        </ul>
    </div>
    <div id="content">
        <h1 id="component-guide">Component guide</h1>
<p>In an effort to keep the VanJS ecosystem minimal Van Cone does not define a component object or function like many reactive frameworks however you will see that they are not necessary with Van Cone and VanJS. When the term component is used in Van Cone documentation it refers to a value that is mapped to a specific route (see <a href="./routing-and-nav-guide.html">routing guide</a>). That value can be an element (created by vanjs or <code>document.createElement</code>), a <code>string</code> that will be converted into an element or a <code>function</code> that returns a string or element.</p>
<pre><code class="hljs language-javascript"><span class="hljs-comment">// define a component using a vanjs tag</span>
<span class="hljs-keyword">const</span> homePage = <span class="hljs-title function_">div</span>(<span class="hljs-string">&#x27;Home Page&#x27;</span>)

<span class="hljs-comment">// define a component using a vanjs tag returned by a function</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">functionPage</span> = (<span class="hljs-params"></span>) =&gt; <span class="hljs-title function_">div</span>(<span class="hljs-string">&#x27;Function Page&#x27;</span>)

<span class="hljs-comment">// define a component by document</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">documentElementPage</span> = (<span class="hljs-params"></span>) =&gt; {
  <span class="hljs-keyword">const</span> div = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&#x27;div&#x27;</span>)
  div.<span class="hljs-property">innerHTML</span> = <span class="hljs-string">&#x27;Document Element Page&#x27;</span>
  <span class="hljs-keyword">return</span> div
}

<span class="hljs-comment">// define a component by string</span>
<span class="hljs-keyword">const</span> fromStringPage = <span class="hljs-string">&#x27;&lt;div&gt;From String Page&lt;/div&gt;&#x27;</span>

<span class="hljs-comment">// create the spa object</span>
<span class="hljs-keyword">const</span> { link, route } = <span class="hljs-title function_">createCone</span>({<span class="hljs-attr">routerElement</span>: <span class="hljs-title function_">div</span>()})

<span class="hljs-comment">// create routes</span>
<span class="hljs-title function_">route</span>(<span class="hljs-string">&#x27;home&#x27;</span>, <span class="hljs-string">&#x27;/&#x27;</span>, homePage)
<span class="hljs-title function_">route</span>(<span class="hljs-string">&#x27;function&#x27;</span>, <span class="hljs-string">&#x27;/function&#x27;</span>, functionPage)
<span class="hljs-title function_">route</span>(<span class="hljs-string">&#x27;doc-element&#x27;</span>, <span class="hljs-string">&#x27;/doc-element&#x27;</span>, documentElementPage)
<span class="hljs-title function_">route</span>(<span class="hljs-string">&#x27;from-string&#x27;</span>, <span class="hljs-string">&#x27;/from-string&#x27;</span>, fromStringPage)
</code></pre><h1 id="components-as-functions">Components as functions</h1>
<p>A function is needed to take full advantage of the Van Cone routing including parsing query and url params and passing dymanic context from the <a href="./api-reference.html#linkprops-children"><code>link</code></a> component.</p>
<p>A component function takes up to 3 arguments and returns a van js tag element. The Van Cone router will call this component function when activating the route.</p>
<h2 id="function-signature">function signature</h2>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">myComponent</span> = (<span class="hljs-params">params, query, context</span>) =&gt; <span class="hljs-title function_">div</span>(...)
</code></pre><p><code>params</code> - an object of parameters parsed out of the url, see example below for defining the router. If no parameters were defined in the router this will be an empty object.</p>
<p><code>query</code> - an object of query string parameters, if none exist in the url this will be an empty object.</p>
<p><code>context</code> - additional context (for example prefetched data) can be passed to the component when navigating using the <a href="./api-reference.html#linkprops-children">link component</a> or the programmatic navigation function <a href="./api-reference.html#navigateroutename-options">navigate</a>. If none is provided this will be an empty object. Typically this would be an object but it could be any data type.</p>
<h2 id="function-return">function return</h2>
<p>An <code>HTMLElement</code>, created with a VanJS function or <code>document.createElement</code>, or a <code>string</code> that can be converted into an <code>HTMLElement</code>.</p>
<h1 id="examples">Examples</h1>
<h3 id="the-hello-world">the hello world</h3>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">homePage</span> = (<span class="hljs-params"></span>) =&gt; <span class="hljs-title function_">div</span>(<span class="hljs-string">&#x27;Home Page&#x27;</span>)
</code></pre><p>You obviously don&#39;t need a framework to do this, outside of the Van Cone router, components are generally not needed because they are simply a function that returns an element. They are many ways to create re-usable components, component functions in Van Cone are only useful to create a concept of a page that integrates with the router.</p>
<h3 id="url--query-params-example">url + query params example</h3>
<p>URL params are defined in the <code>path</code> property of the route object using a colon, query params are automatically parsed and passed to the component without needing to setup anything in the route. Currently query args are returned as raw strings and the component may need to do its own type validation/conversion.</p>
<pre><code class="hljs language-javascript">
<span class="hljs-comment">// use url params to parse a user id</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">userPage</span> = (<span class="hljs-params">params</span>) =&gt; <span class="hljs-title function_">div</span>(<span class="hljs-string">&#x27;User Page&#x27;</span>, <span class="hljs-title function_">p</span>(<span class="hljs-string">&#x27;userId: &#x27;</span> + params.<span class="hljs-property">userId</span>))

<span class="hljs-comment">// use query params to define a sort on a list page</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">userListPage</span> = (<span class="hljs-params">params, query</span>) =&gt; <span class="hljs-title function_">div</span>(<span class="hljs-string">&#x27;User List&#x27;</span>, <span class="hljs-title function_">p</span>(<span class="hljs-string">&#x27;sort by: &#x27;</span> + query.<span class="hljs-property">sort</span>))
</code></pre><h3 id="full-component-example">full component example</h3>
<p>Here is a full example showing url parameters, query parameters and additional context.</p>
<p>A component can use the data as follows:</p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">userPage</span> = (<span class="hljs-params">params, query, context</span>) =&gt; {

  <span class="hljs-comment">/* our parent component, a search page may have passed in preloaded information via link, if not, we&#x27;ll fetch it */</span>
  <span class="hljs-keyword">const</span> userInfo = (context) ? context : <span class="hljs-title function_">fetchUserInfo</span>(params.<span class="hljs-property">id</span>)

  <span class="hljs-keyword">return</span> <span class="hljs-title function_">div</span>(
    <span class="hljs-title function_">p</span>(<span class="hljs-string">&quot;Hi I am: &quot;</span> + userInfo.<span class="hljs-property">name</span>),
    <span class="hljs-title function_">p</span>(<span class="hljs-string">&quot;some query string data: &quot;</span> + query.<span class="hljs-property">data</span>)
  );
}
</code></pre><p>You can use the <a href="./api-reference.html#linkprops-children"><code>link</code></a> component to navigate to this page like this:</p>
<pre><code class="hljs language-javascript"><span class="hljs-keyword">const</span> data = {<span class="hljs-string">&#x27;name&#x27;</span>: <span class="hljs-string">&#x27;Mar√≠a&#x27;</span>}
<span class="hljs-title function_">link</span>({<span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;user&#x27;</span>, <span class="hljs-attr">params</span>: {<span class="hljs-attr">id</span>: <span class="hljs-number">123</span>}, <span class="hljs-attr">query</span>: {<span class="hljs-string">&#x27;data&#x27;</span>: <span class="hljs-string">&#x27;hello&#x27;</span>}, <span class="hljs-attr">context</span>: data}, <span class="hljs-string">&#x27;User&#x27;</span>)
</code></pre><h1 id="what-next">What next?</h1>
<p><a href="./api-reference.html">API Documentation</a></p>

    </div>
</body>